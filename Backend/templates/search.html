{% extends 'base.html' %}

{% block content %}
<h1>Search Songs</h1>
<form method="GET" action="{{ url_for('search_songs') }}">
    <input type="text" name="query" placeholder="Search for songs...">
    <input type="submit" value="Search">
</form>

{% if songs %}
    <h2>Search Results</h2>
    <ul>
        {% for song in songs %}
            <li>
                {{ song.title }}
                <audio id="audio-{{ song.songID }}" src="{{ song.audiolink }}" type="audio/mpeg"></audio>
                <button onclick="playSong({{ song.songID }})">Play</button>
            </li>
        {% endfor %}
    </ul>
{% endif %}
{% endblock %}

<script>
    function playSong(songID) {
        var audio = document.getElementById('audio-' + songID);
        audio.play();
    }
</script>
